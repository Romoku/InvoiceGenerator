<!DOCTYPE html>
<html>
<head>
    <title>Invoice Generator</title>
    <link href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet" media="all">
    <link rel="stylesheet" type="text/css" href="css/xeditable.css" media="screen">
    <link rel="stylesheet" type="text/css" href="css/style.css" media="all">
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.9/angular.min.js"></script>
    <script type="text/javascript" src="js/xeditable.min.js"></script>
    <script type="text/javascript" src="js/angular-utf8-base64.min.js"></script>
    <script type="text/javascript" src="js/app.js"></script>
</head>
<body ng-app="App">
    <div class="container-fluid" ng-controller="MainCtrl">
        <div class="row">
            <div class="col-xs-8">
                <div style="margin-top: 20px; font-size: 16px;" ng-class="{'hidden-print': model.nameIncluded}">
                    <b><span editable-text="model.name">{{ model.name || "YOUR NAME" }}</span></b>
                    <input class="hidden-print" type="checkbox" ng-model="model.nameIncluded" inverted />
                </div>
                <div ng-class="{'hidden-print': model.departmentNameIncluded}">
                    <span editable-text="model.departmentName">{{ model.departmentName || "DEPARTMENT NAME" }}</span>
                    <input class="hidden-print" type="checkbox" ng-model="model.departmentNameIncluded" inverted />
                </div>
                <div ng-class="{'hidden-print': model.companyNameIncluded}">
                    <span editable-text="model.companyName">{{ model.companyName || "YOUR COMPANY NAME" }}</span>
                    <input class="hidden-print" type="checkbox" ng-model="model.companyNameIncluded" inverted />
                </div>
                <div ng-class="{'hidden-print': model.addressLine1Included}">
                    <span editable-text="model.addressLine1">{{ model.addressLine1 || "ADDRESS LINE 1" }}</span>
                    <input class="hidden-print" type="checkbox" ng-model="model.addressLine1Included" inverted />
                </div>
                <div ng-class="{'hidden-print': model.addressLine2Included}">
                    <span editable-text="model.addressLine2">{{ model.addressLine2 || "ADDRESS LINE 2" }}</span>
                    <input class="hidden-print" type="checkbox" ng-model="model.addressLine2Included" inverted />
                </div>
                <div ng-class="{'hidden-print': model.addressLine3Included}">
                    <span editable-text="model.addressLine3">{{ model.addressLine3 || "ADDRESS LINE 3" }}</span>
                    <input class="hidden-print" type="checkbox" ng-model="model.addressLine3Included" inverted />
                </div>
                <div ng-class="{'hidden-print': model.emailAddressIncluded}">
                    <span editable-text="model.emailAddress">{{ model.emailAddress || "EMAIL ADDRESS" }}</span>
                    <input class="hidden-print" type="checkbox" ng-model="model.emailAddressIncluded" inverted />
                </div>
                <div ng-class="{'hidden-print': model.phoneIncluded}">
                    <span editable-text="model.phone">{{ model.phone || "PHONE" }}</span>
                    <input class="hidden-print" type="checkbox" ng-model="model.phoneIncluded" inverted />
                </div>
                <div ng-class="{'hidden-print': model.faxIncluded}">
                    <span editable-text="model.fax">{{model.fax || "FAX" }}</span>
                    <input class="hidden-print" type="checkbox" ng-model="model.faxIncluded" inverted />
                </div>
            </div>
            <div class="col-xs-4">
                <div class="pull-right">
                    <h2>INVOICE</h2>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-6 col-xs-offset-6">
                <div class="pull-right">
                    <div ng-class="{'hidden-print': model.invoiceNumberIncluded}">
                        <span editable-text="model.invoiceNumber">{{ model.invoiceNumber || "INVOICE NUMBER" }}</span>
                        <input class="hidden-print" type="checkbox" ng-model="model.invoiceNumberIncluded" inverted />
                    </div>
                    <div ng-class="{'hidden-print': model.invoiceDateIncluded}">
                        <span editable-date="model.invoiceDate">{{ model.invoiceDate || "INVOICE DATE" }}</span>
                        <input class="hidden-print" type="checkbox" ng-model="model.invoiceDateIncluded" inverted />
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-6">
                <p>TO:</p>
                <div ng-class="{'hidden-print': model.contactNameIncluded}">
                    <span editable-text="model.contactNameIncluded">
                        {{ model.contactName || "CONTACT NAME" }}
                    </span>
                    <input class="hidden-print" type="checkbox" ng-model="model.contactNameIncluded" inverted />
                </div>
                <div ng-class="{'hidden-print': model.contactDepartmentNameIncluded}">
                    <span editable-text="model.contactDepartmentNameIncluded">
                        {{ model.contactDepartmentName || "CONTACT DEPARTMENT NAME" }}
                    </span>
                    <input class="hidden-print" type="checkbox" ng-model="model.contactDepartmentNameIncluded" inverted />
                </div>
                <div ng-class="{'hidden-print': model.contactCompanyNameIncluded}">
                    <span editable-text="model.contactCompanyNameIncluded">
                        {{ model.contactCompanyName || "CONTACT YOUR COMPANY NAME" }}
                    </span>
                    <input class="hidden-print" type="checkbox" ng-model="model.contactCompanyNameIncluded" inverted />
                </div>
                <div ng-class="{'hidden-print': model.contactAddressLine1Included}">
                    <span editable-text="model.contactAddressLine1Included">
                        {{ model.contactAddressLine1 || "CONTACT ADDRESS LINE 1" }}
                    </span>
                    <input class="hidden-print" type="checkbox" ng-model="model.contactAddressLine1Included" inverted />
                </div>
                <div ng-class="{'hidden-print': model.contactAddressLine2Included}">
                    <span editable-text="model.contactAddressLine2Included">
                        {{ model.contactAddressLine2 || "CONTACT ADDRESS LINE 2" }}
                    </span>
                    <input class="hidden-print" type="checkbox" ng-model="model.contactAddressLine2Included" inverted />
                </div>
                <div ng-class="{'hidden-print': model.contactAddressLine3Included}">
                    <span editable-text="model.contactAddressLine3Included">
                        {{ model.contactAddressLine3 || "CONTACT ADDRESS LINE 3" }}
                    </span>
                    <input class="hidden-print" type="checkbox" ng-model="model.contactAddressLine3Included" inverted />
                </div>
                <div ng-class="{'hidden-print': model.contactEmailAddressIncluded}">
                    <span editable-text="model.contactEmailAddressIncluded">
                        {{ model.contactEmailAddress || "CONTACT EMAIL ADDRESS" }}
                    </span>
                    <input class="hidden-print" type="checkbox" ng-model="model.contactEmailAddressIncluded" inverted />
                </div>
                <div ng-class="{'hidden-print': model.contactPhoneIncluded}">
                    <span editable-text="model.contactPhoneIncluded">
                        {{ model.contactPhone || "CONTACT PHONE" }}
                    </span>
                    <input class="hidden-print" type="checkbox" ng-model="model.contactPhoneIncluded" inverted />
                </div>
                <div ng-class="{'hidden-print': model.contactFaxIncluded}">
                    <span editable-text="model.contactFaxIncluded">
                        {{ model.contactFax || "CONTACT FAX" }}
                    </span>
                    <input class="hidden-print" type="checkbox" ng-model="model.contactFaxIncluded" inverted />
                </div> 
            </div>
            <div class="col-xs-2">
                <p>FOR:</p>
                <div ng-class="{'hidden-print': model.descriptionIncluded}">
                    <span editable-textarea="model.description" e-rows="3" e-cols="50">{{ model.description || "DESCRIPTION" }}</span>
                    <input class="hidden-print" type="checkbox" ng-model="model.descriptionIncluded" inverted />
                </div>
            </div>
        </div>
        <div style="margin-top: 20px;">
            <table id="invoiceTable" class="table table-striped table-bordered" >
                <thead>
                    <tr>
                        <th>DESCRIPTION</th>
                        <th>HOURS</th>
                        <th>RATE</th>
                        <th>AMOUNT</th>
                        <th class="hidden-print">Edit</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="entry in model.entries">
                        <td><span editable-text="entry.description" e-name="description" e-form="rowform">{{ entry.description }}</span></td>
                        <td><span editable-number="entry.hours" e-name="hours" e-form="rowform">{{ entry.hours }}</span></td>
                        <td><span editable-number="entry.rate" e-name="rate" e-form="rowform">{{ entry.rate }}</span></td>
                        <td><span>{{ entry.hours * entry.rate || "" }}</span></td>
                        <td class="hidden-print">
                            <form editable-form name="rowform" ng-show="rowform.$visible" class="form-buttons form-inline" shown="inserted == entry" onaftersave="$parent.recalculateTotal()">
                                <button type="submit" ng-disabled="rowform.$waiting" class="btn btn-primary">
                                    save
                                </button>
                                <button type="button" ng-disabled="rowform.$waiting" ng-click="rowform.$cancel()" class="btn btn-default">
                                    cancel
                                </button>
                            </form>
                            <div class="buttons" ng-show="!rowform.$visible">
                                <button class="btn btn-primary" ng-click="rowform.$show()">edit</button>
                                <button class="btn btn-danger" ng-click="removeEntry($index)">del</button>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2">&nbsp;</td>
                        <td>TOTAL</td>
                        <td><span>{{ model.total || "" }}</span></td>
                    </tr>
                </tbody>
            </table>
            <button type="button" class="btn btn-default hidden-print" ng-click="addEntry()">Add Row</button>
        </div>
        <p>
            <div>Make all checks payable to <span>{{ model.name || "YOUR NAME" }}</span></div>
            <div ng-class="{'hidden-print': model.notesIncluded}">
                <span editable-textarea="model.notes" e-rows="3" e-cols="100" ng-model="model.notes">
                    {{ model.notes || "Total due in 15 days. Overdue accounts subject to a service charge of 1% per month." }}
                </span>
                <input class="hidden-print" type="checkbox" ng-model="model.notesIncluded" inverted />
            </div>
        </p>
        <div style="text-align: center;">
            <p>Thank you for your business!</p>
        </div>

        <div class="hidden-print row">
            <div class="col-md-2">
                <p>Save Invoice for reuse or share with a friend.</p>
                <button type="button" class="btn btn-default" ng-click="generateLink()">Save invoice for later</button>
            </div>
            <div class="col-md-2" ng-show="linkGenerated">
                <p>Upload the json file using <b>Load Invoice</b> to prefill this form again.</p>
                <a id="downloadLink" class="btn btn-default" download="invoice.json">Download</a>
            </div>
            <div class="col-md-2">
                <p>Load Invoice</p>
                <input type="file" ng-file-select="onFileSelect($files)">
            </div>
        </div>
    </div>
</body>
</html>